<div class="login-container">
  <h2>Iniciar sesión</h2>

  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
    <!-- Usuario -->
    <div class="form-group">
      <label for="email">Usuario</label>
      <input
        id="email"
        type="text"
        formControlName="email"
        placeholder="Ingresa tu usuario"
      />
      <div class="error" *ngIf="f['email'].touched && f['email'].invalid">
        <small *ngIf="f['email'].errors?.['required']">
          El usuario es obligatorio.
        </small>
      </div>
    </div>

    <!-- Contraseña -->
    <div class="form-group">
      <label for="password">Contraseña</label>
      <input
        id="password"
        type="password"
        formControlName="password"
        placeholder="********"
      />
      <div class="error" *ngIf="f['password'].touched && f['password'].invalid">
        <small *ngIf="f['password'].errors?.['required']">
          La contraseña es obligatoria.
        </small>
        <small *ngIf="f['password'].errors?.['minlength']">
          Mínimo {{ f['password'].errors?.['minlength'].requiredLength }} caracteres.
        </small>
      </div>
    </div>

    <!-- Error general -->
    <div class="error" *ngIf="errorMessage">
      {{ errorMessage }}
    </div>

    <button type="submit" [disabled]="loading || loginForm.invalid">
      {{ loading ? 'Ingresando...' : 'Ingresar' }}
    </button>
  </form>
</div>
